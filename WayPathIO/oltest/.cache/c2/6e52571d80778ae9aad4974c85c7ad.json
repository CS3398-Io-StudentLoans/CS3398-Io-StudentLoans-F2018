{"id":"qu/t","dependencies":[{"name":"C:\\Users\\Daniel\\Documents\\GitHub\\WayPathIO_Main\\WayPathIO\\oltest\\package.json","includedInParent":true,"mtime":1541032623598},{"name":"ol/ol.css","loc":{"line":1,"column":7},"parent":"C:\\Users\\Daniel\\Documents\\GitHub\\WayPathIO_Main\\WayPathIO\\oltest\\map.js","resolved":"C:\\Users\\Daniel\\Documents\\GitHub\\WayPathIO_Main\\WayPathIO\\oltest\\node_modules\\ol\\ol.css"},{"name":"ol/Feature.js","loc":{"line":2,"column":20},"parent":"C:\\Users\\Daniel\\Documents\\GitHub\\WayPathIO_Main\\WayPathIO\\oltest\\map.js","resolved":"C:\\Users\\Daniel\\Documents\\GitHub\\WayPathIO_Main\\WayPathIO\\oltest\\node_modules\\ol\\Feature.js"},{"name":"ol/Geolocation.js","loc":{"line":3,"column":24},"parent":"C:\\Users\\Daniel\\Documents\\GitHub\\WayPathIO_Main\\WayPathIO\\oltest\\map.js","resolved":"C:\\Users\\Daniel\\Documents\\GitHub\\WayPathIO_Main\\WayPathIO\\oltest\\node_modules\\ol\\Geolocation.js"},{"name":"ol/Map.js","loc":{"line":4,"column":16},"parent":"C:\\Users\\Daniel\\Documents\\GitHub\\WayPathIO_Main\\WayPathIO\\oltest\\map.js","resolved":"C:\\Users\\Daniel\\Documents\\GitHub\\WayPathIO_Main\\WayPathIO\\oltest\\node_modules\\ol\\Map.js"},{"name":"ol/View.js","loc":{"line":5,"column":17},"parent":"C:\\Users\\Daniel\\Documents\\GitHub\\WayPathIO_Main\\WayPathIO\\oltest\\map.js","resolved":"C:\\Users\\Daniel\\Documents\\GitHub\\WayPathIO_Main\\WayPathIO\\oltest\\node_modules\\ol\\View.js"},{"name":"ol/control.js","loc":{"line":6,"column":42},"parent":"C:\\Users\\Daniel\\Documents\\GitHub\\WayPathIO_Main\\WayPathIO\\oltest\\map.js","resolved":"C:\\Users\\Daniel\\Documents\\GitHub\\WayPathIO_Main\\WayPathIO\\oltest\\node_modules\\ol\\control.js"},{"name":"ol/geom/Point.js","loc":{"line":7,"column":18},"parent":"C:\\Users\\Daniel\\Documents\\GitHub\\WayPathIO_Main\\WayPathIO\\oltest\\map.js","resolved":"C:\\Users\\Daniel\\Documents\\GitHub\\WayPathIO_Main\\WayPathIO\\oltest\\node_modules\\ol\\geom\\Point.js"},{"name":"ol/layer.js","loc":{"line":8,"column":55},"parent":"C:\\Users\\Daniel\\Documents\\GitHub\\WayPathIO_Main\\WayPathIO\\oltest\\map.js","resolved":"C:\\Users\\Daniel\\Documents\\GitHub\\WayPathIO_Main\\WayPathIO\\oltest\\node_modules\\ol\\layer.js"},{"name":"ol/source.js","loc":{"line":9,"column":42},"parent":"C:\\Users\\Daniel\\Documents\\GitHub\\WayPathIO_Main\\WayPathIO\\oltest\\map.js","resolved":"C:\\Users\\Daniel\\Documents\\GitHub\\WayPathIO_Main\\WayPathIO\\oltest\\node_modules\\ol\\source.js"},{"name":"ol/style.js","loc":{"line":10,"column":63},"parent":"C:\\Users\\Daniel\\Documents\\GitHub\\WayPathIO_Main\\WayPathIO\\oltest\\map.js","resolved":"C:\\Users\\Daniel\\Documents\\GitHub\\WayPathIO_Main\\WayPathIO\\oltest\\node_modules\\ol\\style.js"},{"name":"ol/proj","loc":{"line":11,"column":36},"parent":"C:\\Users\\Daniel\\Documents\\GitHub\\WayPathIO_Main\\WayPathIO\\oltest\\map.js","resolved":"C:\\Users\\Daniel\\Documents\\GitHub\\WayPathIO_Main\\WayPathIO\\oltest\\node_modules\\ol\\proj.js"},{"name":"ol/format/Polyline","loc":{"line":14,"column":21},"parent":"C:\\Users\\Daniel\\Documents\\GitHub\\WayPathIO_Main\\WayPathIO\\oltest\\map.js","resolved":"C:\\Users\\Daniel\\Documents\\GitHub\\WayPathIO_Main\\WayPathIO\\oltest\\node_modules\\ol\\format\\Polyline.js"}],"generated":{"js":"\"use strict\";require(\"ol/ol.css\");var e=f(require(\"ol/Feature.js\")),t=f(require(\"ol/Geolocation.js\")),o=f(require(\"ol/Map.js\")),r=f(require(\"ol/View.js\")),n=require(\"ol/control.js\"),a=f(require(\"ol/geom/Point.js\")),c=require(\"ol/layer.js\"),i=require(\"ol/source.js\"),u=require(\"ol/style.js\"),l=require(\"ol/proj\"),s=f(require(\"ol/format/Polyline\"));function f(e){return e&&e.__esModule?e:{default:e}}var d=[-97.942999,29.888998],m=[-97.943114,29.888868],g=(0,l.fromLonLat)(d),w=(0,l.fromLonLat)(m);function y(e){(0,l.fromLonLat)(e)}var p=[],j=document.getElementById(\"msg\"),h=\"//router.project-osrm.org/nearest/v1/driving/\",v=\"//router.project-osrm.org/route/v1/driving/\",L=\"//cdn.rawgit.com/openlayers/ol3/master/examples/data/icon.png\",S=new i.Vector,k=new c.Vector({source:S}),q={route:new u.Style({stroke:new u.Stroke({width:6,color:[40,40,40,.8]})}),icon:new u.Style({image:new u.Icon({anchor:[.5,1],src:L})})};console.clear();var P=new r.default({center:g,zoom:16}),G=new o.default({layers:[new c.Tile({source:new i.OSM}),k],target:\"map\",controls:(0,n.defaults)({attributionOptions:{collapsible:!1}}),view:P}),E=new t.default({trackingOptions:{enableHighAccuracy:!0},projection:P.getProjection()});function F(e){return document.getElementById(e)}F(\"track\").addEventListener(\"change\",function(){E.setTracking(this.checked)}),E.on(\"change\",function(){F(\"accuracy\").innerText=E.getAccuracy()+\" [m]\",F(\"location\").innerText=E.getPosition()}),E.on(\"error\",function(e){var t=document.getElementById(\"info\");t.innerHTML=e.message,t.style.display=\"\"});var T=new e.default;E.on(\"change:accuracyGeometry\",function(){T.setGeometry(E.getAccuracyGeometry())});var M=new e.default;function V(){G.setView(new r.default({center:w,zoom:19}))}M.setStyle(new u.Style({image:new u.Circle({radius:6,fill:new u.Fill({color:\"#3399CC\"}),stroke:new u.Stroke({color:\"#fff\",width:2})})})),E.on(\"change:position\",function(){var e=E.getPosition();M.setGeometry(e?new a.default(e):null)}),new c.Vector({map:G,source:new i.Vector({features:[T,M]})}),G.on(\"click\",function(e){H.getNearest(e.coordinate).then(function(e){var t=p[p.length-1],o=p.push(e);if(H.createFeature(e),o<2)j.innerHTML=\"Click to add another point\";else{var r=t.join(),n=e.join();fetch(v+r+\";\"+n).then(function(e){return e.json()}).then(function(e){\"Ok\"===e.code?(j.innerHTML=\"Route added\",H.createRoute(e.routes[0].geometry)):j.innerHTML=\"No route found.\"})}})});var H={getNearest:function(e){var t=H.to4326(e);return new Promise(function(e,o){fetch(h+t.join()).then(function(e){return e.json()}).then(function(t){\"Ok\"===t.code?e(t.waypoints[0].location):o()})})},createFeature:function(t){var o=new e.default({type:\"place\",geometry:new a.default((0,l.fromLonLat)(t))});o.setStyle(q.icon),S.addFeature(o)},createRoute:function(t){var o=new s.default({factor:1e5}).readGeometry(t,{dataProjection:\"EPSG:4326\",featureProjection:\"EPSG:3857\"}),r=new e.default({type:\"route\",geometry:o});r.setStyle(q.route),S.addFeature(r)},to4326:function(e){return(0,l.transform)([parseFloat(e[0]),parseFloat(e[1])],\"EPSG:3857\",\"EPSG:4326\")}};","map":{"mappings":[{"source":"map.js","original":{"line":173,"column":0},"generated":{"line":1,"column":0}},{"source":"map.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"map.js","original":{"line":1,"column":0},"generated":{"line":1,"column":21}},{"source":"map.js","original":{"line":2,"column":0},"generated":{"line":1,"column":34}},{"source":"map.js","original":{"line":2,"column":0},"generated":{"line":1,"column":38}},{"source":"map.js","original":{"line":2,"column":0},"generated":{"line":1,"column":40}},{"source":"map.js","original":{"line":2,"column":0},"generated":{"line":1,"column":42}},{"source":"map.js","original":{"line":2,"column":0},"generated":{"line":1,"column":50}},{"source":"map.js","original":{"line":3,"column":0},"generated":{"line":1,"column":68}},{"source":"map.js","original":{"line":3,"column":0},"generated":{"line":1,"column":70}},{"source":"map.js","original":{"line":3,"column":0},"generated":{"line":1,"column":72}},{"source":"map.js","original":{"line":3,"column":0},"generated":{"line":1,"column":80}},{"source":"map.js","original":{"line":4,"column":0},"generated":{"line":1,"column":102}},{"source":"map.js","original":{"line":4,"column":0},"generated":{"line":1,"column":104}},{"source":"map.js","original":{"line":4,"column":0},"generated":{"line":1,"column":106}},{"source":"map.js","original":{"line":4,"column":0},"generated":{"line":1,"column":114}},{"source":"map.js","original":{"line":5,"column":0},"generated":{"line":1,"column":128}},{"source":"map.js","original":{"line":5,"column":0},"generated":{"line":1,"column":130}},{"source":"map.js","original":{"line":5,"column":0},"generated":{"line":1,"column":132}},{"source":"map.js","original":{"line":5,"column":0},"generated":{"line":1,"column":140}},{"source":"map.js","original":{"line":6,"column":0},"generated":{"line":1,"column":155}},{"source":"map.js","original":{"line":6,"column":0},"generated":{"line":1,"column":157}},{"source":"map.js","original":{"line":6,"column":0},"generated":{"line":1,"column":165}},{"source":"map.js","original":{"line":7,"column":0},"generated":{"line":1,"column":182}},{"source":"map.js","original":{"line":7,"column":0},"generated":{"line":1,"column":184}},{"source":"map.js","original":{"line":7,"column":0},"generated":{"line":1,"column":186}},{"source":"map.js","original":{"line":7,"column":0},"generated":{"line":1,"column":194}},{"source":"map.js","original":{"line":8,"column":0},"generated":{"line":1,"column":215}},{"source":"map.js","original":{"line":8,"column":0},"generated":{"line":1,"column":217}},{"source":"map.js","original":{"line":8,"column":0},"generated":{"line":1,"column":225}},{"source":"map.js","original":{"line":9,"column":0},"generated":{"line":1,"column":240}},{"source":"map.js","original":{"line":9,"column":0},"generated":{"line":1,"column":242}},{"source":"map.js","original":{"line":9,"column":0},"generated":{"line":1,"column":250}},{"source":"map.js","original":{"line":10,"column":0},"generated":{"line":1,"column":266}},{"source":"map.js","original":{"line":10,"column":0},"generated":{"line":1,"column":268}},{"source":"map.js","original":{"line":10,"column":0},"generated":{"line":1,"column":276}},{"source":"map.js","original":{"line":11,"column":0},"generated":{"line":1,"column":291}},{"source":"map.js","original":{"line":11,"column":0},"generated":{"line":1,"column":293}},{"source":"map.js","original":{"line":11,"column":0},"generated":{"line":1,"column":301}},{"source":"map.js","original":{"line":14,"column":0},"generated":{"line":1,"column":312}},{"source":"map.js","original":{"line":14,"column":0},"generated":{"line":1,"column":314}},{"source":"map.js","original":{"line":14,"column":0},"generated":{"line":1,"column":316}},{"source":"map.js","original":{"line":14,"column":0},"generated":{"line":1,"column":324}},{"source":"map.js","original":{"line":173,"column":0},"generated":{"line":1,"column":347}},{"source":"map.js","original":{"line":173,"column":0},"generated":{"line":1,"column":356}},{"source":"map.js","original":{"line":173,"column":0},"generated":{"line":1,"column":358}},{"source":"map.js","original":{"line":173,"column":0},"generated":{"line":1,"column":361}},{"source":"map.js","original":{"line":173,"column":0},"generated":{"line":1,"column":368}},{"source":"map.js","original":{"line":173,"column":0},"generated":{"line":1,"column":371}},{"source":"map.js","original":{"line":173,"column":0},"generated":{"line":1,"column":373}},{"source":"map.js","original":{"line":173,"column":0},"generated":{"line":1,"column":384}},{"source":"map.js","original":{"line":173,"column":0},"generated":{"line":1,"column":386}},{"source":"map.js","original":{"line":173,"column":0},"generated":{"line":1,"column":387}},{"source":"map.js","original":{"line":173,"column":0},"generated":{"line":1,"column":395}},{"source":"map.js","original":{"line":16,"column":0},"generated":{"line":1,"column":398}},{"source":"map.js","name":"txState","original":{"line":16,"column":4},"generated":{"line":1,"column":402}},{"source":"map.js","original":{"line":16,"column":14},"generated":{"line":1,"column":404}},{"source":"map.js","original":{"line":16,"column":16},"generated":{"line":1,"column":406}},{"source":"map.js","original":{"line":16,"column":27},"generated":{"line":1,"column":416}},{"source":"map.js","name":"alk","original":{"line":17,"column":4},"generated":{"line":1,"column":427}},{"source":"map.js","original":{"line":17,"column":10},"generated":{"line":1,"column":429}},{"source":"map.js","original":{"line":17,"column":12},"generated":{"line":1,"column":431}},{"source":"map.js","original":{"line":17,"column":23},"generated":{"line":1,"column":441}},{"source":"map.js","name":"txStateWebMercator","original":{"line":18,"column":4},"generated":{"line":1,"column":452}},{"source":"map.js","original":{"line":18,"column":25},"generated":{"line":1,"column":455}},{"source":"map.js","name":"txState","original":{"line":18,"column":36},"generated":{"line":1,"column":457}},{"source":"map.js","name":"txState","original":{"line":18,"column":36},"generated":{"line":1,"column":459}},{"source":"map.js","name":"txState","original":{"line":18,"column":36},"generated":{"line":1,"column":471}},{"source":"map.js","name":"alkMercator","original":{"line":19,"column":4},"generated":{"line":1,"column":474}},{"source":"map.js","original":{"line":19,"column":18},"generated":{"line":1,"column":477}},{"source":"map.js","name":"alk","original":{"line":19,"column":29},"generated":{"line":1,"column":479}},{"source":"map.js","name":"alk","original":{"line":19,"column":29},"generated":{"line":1,"column":481}},{"source":"map.js","name":"alk","original":{"line":19,"column":29},"generated":{"line":1,"column":493}},{"source":"map.js","original":{"line":21,"column":0},"generated":{"line":1,"column":496}},{"source":"map.js","name":"changeToWebMercator","original":{"line":21,"column":9},"generated":{"line":1,"column":505}},{"source":"map.js","name":"coord","original":{"line":21,"column":29},"generated":{"line":1,"column":507}},{"source":"map.js","name":"coord","original":{"line":22,"column":13},"generated":{"line":1,"column":511}},{"source":"map.js","name":"coord","original":{"line":22,"column":13},"generated":{"line":1,"column":513}},{"source":"map.js","name":"coord","original":{"line":22,"column":13},"generated":{"line":1,"column":515}},{"source":"map.js","name":"coord","original":{"line":22,"column":13},"generated":{"line":1,"column":527}},{"source":"map.js","original":{"line":25,"column":0},"generated":{"line":1,"column":530}},{"source":"map.js","name":"points","original":{"line":25,"column":4},"generated":{"line":1,"column":534}},{"source":"map.js","original":{"line":25,"column":13},"generated":{"line":1,"column":536}},{"source":"map.js","name":"msg_el","original":{"line":26,"column":4},"generated":{"line":1,"column":539}},{"source":"map.js","name":"document","original":{"line":26,"column":13},"generated":{"line":1,"column":541}},{"source":"map.js","name":"getElementById","original":{"line":26,"column":22},"generated":{"line":1,"column":550}},{"source":"map.js","original":{"line":26,"column":37},"generated":{"line":1,"column":565}},{"source":"map.js","name":"url_osrm_nearest","original":{"line":27,"column":4},"generated":{"line":1,"column":572}},{"source":"map.js","original":{"line":27,"column":23},"generated":{"line":1,"column":574}},{"source":"map.js","name":"url_osrm_route","original":{"line":28,"column":4},"generated":{"line":1,"column":622}},{"source":"map.js","original":{"line":28,"column":21},"generated":{"line":1,"column":624}},{"source":"map.js","name":"icon_url","original":{"line":29,"column":4},"generated":{"line":1,"column":670}},{"source":"map.js","original":{"line":29,"column":15},"generated":{"line":1,"column":672}},{"source":"map.js","name":"vectorSource","original":{"line":31,"column":4},"generated":{"line":1,"column":736}},{"source":"map.js","original":{"line":31,"column":19},"generated":{"line":1,"column":738}},{"source":"map.js","name":"VectorSource","original":{"line":31,"column":23},"generated":{"line":1,"column":742}},{"source":"map.js","original":{"line":31,"column":19},"generated":{"line":1,"column":744}},{"source":"map.js","name":"vectorLayer","original":{"line":32,"column":4},"generated":{"line":1,"column":751}},{"source":"map.js","original":{"line":32,"column":18},"generated":{"line":1,"column":753}},{"source":"map.js","name":"VectorLayer","original":{"line":32,"column":22},"generated":{"line":1,"column":757}},{"source":"map.js","original":{"line":32,"column":18},"generated":{"line":1,"column":759}},{"source":"map.js","original":{"line":32,"column":34},"generated":{"line":1,"column":766}},{"source":"map.js","name":"source","original":{"line":33,"column":6},"generated":{"line":1,"column":767}},{"source":"map.js","name":"vectorSource","original":{"line":33,"column":14},"generated":{"line":1,"column":774}},{"source":"map.js","name":"styles","original":{"line":36,"column":4},"generated":{"line":1,"column":778}},{"source":"map.js","original":{"line":36,"column":13},"generated":{"line":1,"column":780}},{"source":"map.js","name":"route","original":{"line":37,"column":6},"generated":{"line":1,"column":781}},{"source":"map.js","original":{"line":37,"column":13},"generated":{"line":1,"column":787}},{"source":"map.js","name":"Style","original":{"line":37,"column":17},"generated":{"line":1,"column":791}},{"source":"map.js","original":{"line":37,"column":13},"generated":{"line":1,"column":793}},{"source":"map.js","original":{"line":37,"column":23},"generated":{"line":1,"column":799}},{"source":"map.js","name":"stroke","original":{"line":38,"column":8},"generated":{"line":1,"column":800}},{"source":"map.js","original":{"line":38,"column":16},"generated":{"line":1,"column":807}},{"source":"map.js","name":"Stroke","original":{"line":38,"column":20},"generated":{"line":1,"column":811}},{"source":"map.js","original":{"line":38,"column":16},"generated":{"line":1,"column":813}},{"source":"map.js","original":{"line":38,"column":27},"generated":{"line":1,"column":820}},{"source":"map.js","name":"width","original":{"line":39,"column":10},"generated":{"line":1,"column":821}},{"source":"map.js","original":{"line":39,"column":17},"generated":{"line":1,"column":827}},{"source":"map.js","name":"color","original":{"line":39,"column":20},"generated":{"line":1,"column":829}},{"source":"map.js","original":{"line":39,"column":27},"generated":{"line":1,"column":835}},{"source":"map.js","original":{"line":39,"column":28},"generated":{"line":1,"column":836}},{"source":"map.js","original":{"line":39,"column":32},"generated":{"line":1,"column":839}},{"source":"map.js","original":{"line":39,"column":36},"generated":{"line":1,"column":842}},{"source":"map.js","original":{"line":39,"column":40},"generated":{"line":1,"column":845}},{"source":"map.js","name":"icon","original":{"line":43,"column":6},"generated":{"line":1,"column":853}},{"source":"map.js","original":{"line":43,"column":12},"generated":{"line":1,"column":858}},{"source":"map.js","name":"Style","original":{"line":43,"column":16},"generated":{"line":1,"column":862}},{"source":"map.js","original":{"line":43,"column":12},"generated":{"line":1,"column":864}},{"source":"map.js","original":{"line":43,"column":22},"generated":{"line":1,"column":870}},{"source":"map.js","name":"image","original":{"line":44,"column":8},"generated":{"line":1,"column":871}},{"source":"map.js","original":{"line":44,"column":15},"generated":{"line":1,"column":877}},{"source":"map.js","name":"Icon","original":{"line":44,"column":19},"generated":{"line":1,"column":881}},{"source":"map.js","original":{"line":44,"column":15},"generated":{"line":1,"column":883}},{"source":"map.js","original":{"line":44,"column":24},"generated":{"line":1,"column":888}},{"source":"map.js","name":"anchor","original":{"line":45,"column":10},"generated":{"line":1,"column":889}},{"source":"map.js","original":{"line":45,"column":18},"generated":{"line":1,"column":896}},{"source":"map.js","original":{"line":45,"column":19},"generated":{"line":1,"column":897}},{"source":"map.js","original":{"line":45,"column":24},"generated":{"line":1,"column":900}},{"source":"map.js","name":"src","original":{"line":46,"column":10},"generated":{"line":1,"column":903}},{"source":"map.js","name":"icon_url","original":{"line":46,"column":15},"generated":{"line":1,"column":907}},{"source":"map.js","name":"console","original":{"line":51,"column":0},"generated":{"line":1,"column":914}},{"source":"map.js","name":"clear","original":{"line":51,"column":8},"generated":{"line":1,"column":922}},{"source":"map.js","original":{"line":53,"column":0},"generated":{"line":1,"column":930}},{"source":"map.js","name":"view","original":{"line":53,"column":4},"generated":{"line":1,"column":934}},{"source":"map.js","original":{"line":53,"column":11},"generated":{"line":1,"column":936}},{"source":"map.js","name":"View","original":{"line":53,"column":15},"generated":{"line":1,"column":940}},{"source":"map.js","original":{"line":53,"column":11},"generated":{"line":1,"column":942}},{"source":"map.js","original":{"line":53,"column":20},"generated":{"line":1,"column":950}},{"source":"map.js","name":"center","original":{"line":54,"column":2},"generated":{"line":1,"column":951}},{"source":"map.js","name":"txStateWebMercator","original":{"line":54,"column":10},"generated":{"line":1,"column":958}},{"source":"map.js","name":"zoom","original":{"line":55,"column":2},"generated":{"line":1,"column":960}},{"source":"map.js","original":{"line":55,"column":8},"generated":{"line":1,"column":965}},{"source":"map.js","name":"map","original":{"line":58,"column":4},"generated":{"line":1,"column":970}},{"source":"map.js","original":{"line":58,"column":10},"generated":{"line":1,"column":972}},{"source":"map.js","name":"Map","original":{"line":58,"column":14},"generated":{"line":1,"column":976}},{"source":"map.js","original":{"line":58,"column":10},"generated":{"line":1,"column":978}},{"source":"map.js","original":{"line":58,"column":18},"generated":{"line":1,"column":986}},{"source":"map.js","name":"layers","original":{"line":59,"column":2},"generated":{"line":1,"column":987}},{"source":"map.js","original":{"line":59,"column":10},"generated":{"line":1,"column":994}},{"source":"map.js","original":{"line":60,"column":4},"generated":{"line":1,"column":995}},{"source":"map.js","name":"TileLayer","original":{"line":60,"column":8},"generated":{"line":1,"column":999}},{"source":"map.js","original":{"line":60,"column":4},"generated":{"line":1,"column":1001}},{"source":"map.js","original":{"line":60,"column":18},"generated":{"line":1,"column":1006}},{"source":"map.js","name":"source","original":{"line":61,"column":6},"generated":{"line":1,"column":1007}},{"source":"map.js","original":{"line":61,"column":14},"generated":{"line":1,"column":1014}},{"source":"map.js","name":"OSM","original":{"line":61,"column":18},"generated":{"line":1,"column":1018}},{"source":"map.js","original":{"line":61,"column":14},"generated":{"line":1,"column":1020}},{"source":"map.js","name":"vectorLayer","original":{"line":63,"column":4},"generated":{"line":1,"column":1026}},{"source":"map.js","name":"target","original":{"line":65,"column":2},"generated":{"line":1,"column":1029}},{"source":"map.js","original":{"line":65,"column":10},"generated":{"line":1,"column":1036}},{"source":"map.js","name":"controls","original":{"line":66,"column":2},"generated":{"line":1,"column":1042}},{"source":"map.js","original":{"line":66,"column":12},"generated":{"line":1,"column":1052}},{"source":"map.js","original":{"line":66,"column":28},"generated":{"line":1,"column":1054}},{"source":"map.js","original":{"line":66,"column":28},"generated":{"line":1,"column":1056}},{"source":"map.js","original":{"line":66,"column":28},"generated":{"line":1,"column":1066}},{"source":"map.js","name":"attributionOptions","original":{"line":67,"column":4},"generated":{"line":1,"column":1067}},{"source":"map.js","original":{"line":67,"column":24},"generated":{"line":1,"column":1086}},{"source":"map.js","name":"collapsible","original":{"line":68,"column":6},"generated":{"line":1,"column":1087}},{"source":"map.js","original":{"line":68,"column":19},"generated":{"line":1,"column":1100}},{"source":"map.js","name":"view","original":{"line":71,"column":2},"generated":{"line":1,"column":1105}},{"source":"map.js","name":"view","original":{"line":71,"column":8},"generated":{"line":1,"column":1110}},{"source":"map.js","name":"geolocation","original":{"line":74,"column":4},"generated":{"line":1,"column":1114}},{"source":"map.js","original":{"line":74,"column":18},"generated":{"line":1,"column":1116}},{"source":"map.js","name":"Geolocation","original":{"line":74,"column":22},"generated":{"line":1,"column":1120}},{"source":"map.js","original":{"line":74,"column":18},"generated":{"line":1,"column":1122}},{"source":"map.js","original":{"line":74,"column":34},"generated":{"line":1,"column":1130}},{"source":"map.js","name":"trackingOptions","original":{"line":76,"column":2},"generated":{"line":1,"column":1131}},{"source":"map.js","original":{"line":76,"column":19},"generated":{"line":1,"column":1147}},{"source":"map.js","name":"enableHighAccuracy","original":{"line":77,"column":4},"generated":{"line":1,"column":1148}},{"source":"map.js","original":{"line":77,"column":24},"generated":{"line":1,"column":1168}},{"source":"map.js","name":"projection","original":{"line":79,"column":2},"generated":{"line":1,"column":1171}},{"source":"map.js","name":"view","original":{"line":79,"column":14},"generated":{"line":1,"column":1182}},{"source":"map.js","name":"getProjection","original":{"line":79,"column":19},"generated":{"line":1,"column":1184}},{"source":"map.js","original":{"line":82,"column":0},"generated":{"line":1,"column":1202}},{"source":"map.js","name":"el","original":{"line":82,"column":9},"generated":{"line":1,"column":1211}},{"source":"map.js","name":"id","original":{"line":82,"column":12},"generated":{"line":1,"column":1213}},{"source":"map.js","name":"document","original":{"line":83,"column":9},"generated":{"line":1,"column":1216}},{"source":"map.js","name":"document","original":{"line":83,"column":9},"generated":{"line":1,"column":1223}},{"source":"map.js","name":"getElementById","original":{"line":83,"column":18},"generated":{"line":1,"column":1232}},{"source":"map.js","name":"id","original":{"line":83,"column":33},"generated":{"line":1,"column":1247}},{"source":"map.js","name":"el","original":{"line":86,"column":0},"generated":{"line":1,"column":1250}},{"source":"map.js","original":{"line":86,"column":3},"generated":{"line":1,"column":1252}},{"source":"map.js","name":"addEventListener","original":{"line":86,"column":12},"generated":{"line":1,"column":1261}},{"source":"map.js","original":{"line":86,"column":29},"generated":{"line":1,"column":1278}},{"source":"map.js","original":{"line":86,"column":39},"generated":{"line":1,"column":1287}},{"source":"map.js","name":"geolocation","original":{"line":87,"column":2},"generated":{"line":1,"column":1298}},{"source":"map.js","name":"setTracking","original":{"line":87,"column":14},"generated":{"line":1,"column":1300}},{"source":"map.js","original":{"line":87,"column":26},"generated":{"line":1,"column":1312}},{"source":"map.js","name":"checked","original":{"line":87,"column":31},"generated":{"line":1,"column":1317}},{"source":"map.js","name":"geolocation","original":{"line":91,"column":0},"generated":{"line":1,"column":1328}},{"source":"map.js","name":"on","original":{"line":91,"column":12},"generated":{"line":1,"column":1330}},{"source":"map.js","original":{"line":91,"column":15},"generated":{"line":1,"column":1333}},{"source":"map.js","original":{"line":91,"column":25},"generated":{"line":1,"column":1342}},{"source":"map.js","name":"el","original":{"line":92,"column":2},"generated":{"line":1,"column":1353}},{"source":"map.js","original":{"line":92,"column":5},"generated":{"line":1,"column":1355}},{"source":"map.js","name":"innerText","original":{"line":92,"column":17},"generated":{"line":1,"column":1367}},{"source":"map.js","name":"geolocation","original":{"line":92,"column":29},"generated":{"line":1,"column":1377}},{"source":"map.js","name":"getAccuracy","original":{"line":92,"column":41},"generated":{"line":1,"column":1379}},{"source":"map.js","original":{"line":92,"column":57},"generated":{"line":1,"column":1393}},{"source":"map.js","name":"el","original":{"line":93,"column":2},"generated":{"line":1,"column":1400}},{"source":"map.js","original":{"line":93,"column":5},"generated":{"line":1,"column":1402}},{"source":"map.js","name":"innerText","original":{"line":93,"column":17},"generated":{"line":1,"column":1414}},{"source":"map.js","name":"geolocation","original":{"line":93,"column":29},"generated":{"line":1,"column":1424}},{"source":"map.js","name":"getPosition","original":{"line":93,"column":41},"generated":{"line":1,"column":1426}},{"source":"map.js","name":"geolocation","original":{"line":97,"column":0},"generated":{"line":1,"column":1442}},{"source":"map.js","name":"on","original":{"line":97,"column":12},"generated":{"line":1,"column":1444}},{"source":"map.js","original":{"line":97,"column":15},"generated":{"line":1,"column":1447}},{"source":"map.js","original":{"line":97,"column":24},"generated":{"line":1,"column":1455}},{"source":"map.js","name":"error","original":{"line":97,"column":33},"generated":{"line":1,"column":1464}},{"source":"map.js","name":"info","original":{"line":98,"column":6},"generated":{"line":1,"column":1467}},{"source":"map.js","name":"info","original":{"line":98,"column":6},"generated":{"line":1,"column":1471}},{"source":"map.js","name":"document","original":{"line":98,"column":13},"generated":{"line":1,"column":1473}},{"source":"map.js","name":"getElementById","original":{"line":98,"column":22},"generated":{"line":1,"column":1482}},{"source":"map.js","original":{"line":98,"column":37},"generated":{"line":1,"column":1497}},{"source":"map.js","name":"info","original":{"line":99,"column":2},"generated":{"line":1,"column":1505}},{"source":"map.js","name":"innerHTML","original":{"line":99,"column":7},"generated":{"line":1,"column":1507}},{"source":"map.js","name":"error","original":{"line":99,"column":19},"generated":{"line":1,"column":1517}},{"source":"map.js","name":"message","original":{"line":99,"column":25},"generated":{"line":1,"column":1519}},{"source":"map.js","name":"info","original":{"line":100,"column":2},"generated":{"line":1,"column":1527}},{"source":"map.js","name":"style","original":{"line":100,"column":7},"generated":{"line":1,"column":1529}},{"source":"map.js","name":"display","original":{"line":100,"column":13},"generated":{"line":1,"column":1535}},{"source":"map.js","original":{"line":100,"column":23},"generated":{"line":1,"column":1543}},{"source":"map.js","original":{"line":103,"column":0},"generated":{"line":1,"column":1548}},{"source":"map.js","name":"accuracyFeature","original":{"line":103,"column":4},"generated":{"line":1,"column":1552}},{"source":"map.js","original":{"line":103,"column":22},"generated":{"line":1,"column":1554}},{"source":"map.js","name":"Feature","original":{"line":103,"column":26},"generated":{"line":1,"column":1558}},{"source":"map.js","original":{"line":103,"column":22},"generated":{"line":1,"column":1560}},{"source":"map.js","name":"geolocation","original":{"line":104,"column":0},"generated":{"line":1,"column":1568}},{"source":"map.js","name":"on","original":{"line":104,"column":12},"generated":{"line":1,"column":1570}},{"source":"map.js","original":{"line":104,"column":15},"generated":{"line":1,"column":1573}},{"source":"map.js","original":{"line":104,"column":42},"generated":{"line":1,"column":1599}},{"source":"map.js","name":"accuracyFeature","original":{"line":105,"column":2},"generated":{"line":1,"column":1610}},{"source":"map.js","name":"setGeometry","original":{"line":105,"column":18},"generated":{"line":1,"column":1612}},{"source":"map.js","name":"geolocation","original":{"line":105,"column":30},"generated":{"line":1,"column":1624}},{"source":"map.js","name":"getAccuracyGeometry","original":{"line":105,"column":42},"generated":{"line":1,"column":1626}},{"source":"map.js","original":{"line":108,"column":0},"generated":{"line":1,"column":1651}},{"source":"map.js","name":"positionFeature","original":{"line":108,"column":4},"generated":{"line":1,"column":1655}},{"source":"map.js","original":{"line":108,"column":22},"generated":{"line":1,"column":1657}},{"source":"map.js","name":"Feature","original":{"line":108,"column":26},"generated":{"line":1,"column":1661}},{"source":"map.js","original":{"line":108,"column":22},"generated":{"line":1,"column":1663}},{"source":"map.js","original":{"line":135,"column":0},"generated":{"line":1,"column":1671}},{"source":"map.js","name":"panAlk","original":{"line":135,"column":9},"generated":{"line":1,"column":1680}},{"source":"map.js","name":"map","original":{"line":136,"column":2},"generated":{"line":1,"column":1684}},{"source":"map.js","name":"setView","original":{"line":136,"column":6},"generated":{"line":1,"column":1686}},{"source":"map.js","original":{"line":136,"column":14},"generated":{"line":1,"column":1694}},{"source":"map.js","name":"View","original":{"line":136,"column":18},"generated":{"line":1,"column":1698}},{"source":"map.js","original":{"line":136,"column":14},"generated":{"line":1,"column":1700}},{"source":"map.js","original":{"line":136,"column":23},"generated":{"line":1,"column":1708}},{"source":"map.js","name":"center","original":{"line":137,"column":12},"generated":{"line":1,"column":1709}},{"source":"map.js","name":"alkMercator","original":{"line":137,"column":20},"generated":{"line":1,"column":1716}},{"source":"map.js","name":"zoom","original":{"line":138,"column":12},"generated":{"line":1,"column":1718}},{"source":"map.js","original":{"line":138,"column":18},"generated":{"line":1,"column":1723}},{"source":"map.js","name":"positionFeature","original":{"line":109,"column":0},"generated":{"line":1,"column":1729}},{"source":"map.js","name":"setStyle","original":{"line":109,"column":16},"generated":{"line":1,"column":1731}},{"source":"map.js","original":{"line":109,"column":25},"generated":{"line":1,"column":1740}},{"source":"map.js","name":"Style","original":{"line":109,"column":29},"generated":{"line":1,"column":1744}},{"source":"map.js","original":{"line":109,"column":25},"generated":{"line":1,"column":1746}},{"source":"map.js","original":{"line":109,"column":35},"generated":{"line":1,"column":1752}},{"source":"map.js","name":"image","original":{"line":110,"column":2},"generated":{"line":1,"column":1753}},{"source":"map.js","original":{"line":110,"column":9},"generated":{"line":1,"column":1759}},{"source":"map.js","name":"CircleStyle","original":{"line":110,"column":13},"generated":{"line":1,"column":1763}},{"source":"map.js","original":{"line":110,"column":9},"generated":{"line":1,"column":1765}},{"source":"map.js","original":{"line":110,"column":25},"generated":{"line":1,"column":1772}},{"source":"map.js","name":"radius","original":{"line":111,"column":4},"generated":{"line":1,"column":1773}},{"source":"map.js","original":{"line":111,"column":12},"generated":{"line":1,"column":1780}},{"source":"map.js","name":"fill","original":{"line":112,"column":4},"generated":{"line":1,"column":1782}},{"source":"map.js","original":{"line":112,"column":10},"generated":{"line":1,"column":1787}},{"source":"map.js","name":"Fill","original":{"line":112,"column":14},"generated":{"line":1,"column":1791}},{"source":"map.js","original":{"line":112,"column":10},"generated":{"line":1,"column":1793}},{"source":"map.js","original":{"line":112,"column":19},"generated":{"line":1,"column":1798}},{"source":"map.js","name":"color","original":{"line":113,"column":6},"generated":{"line":1,"column":1799}},{"source":"map.js","original":{"line":113,"column":13},"generated":{"line":1,"column":1805}},{"source":"map.js","name":"stroke","original":{"line":115,"column":4},"generated":{"line":1,"column":1817}},{"source":"map.js","original":{"line":115,"column":12},"generated":{"line":1,"column":1824}},{"source":"map.js","name":"Stroke","original":{"line":115,"column":16},"generated":{"line":1,"column":1828}},{"source":"map.js","original":{"line":115,"column":12},"generated":{"line":1,"column":1830}},{"source":"map.js","original":{"line":115,"column":23},"generated":{"line":1,"column":1837}},{"source":"map.js","name":"color","original":{"line":116,"column":6},"generated":{"line":1,"column":1838}},{"source":"map.js","original":{"line":116,"column":13},"generated":{"line":1,"column":1844}},{"source":"map.js","name":"width","original":{"line":117,"column":6},"generated":{"line":1,"column":1851}},{"source":"map.js","original":{"line":117,"column":13},"generated":{"line":1,"column":1857}},{"source":"map.js","name":"geolocation","original":{"line":122,"column":0},"generated":{"line":1,"column":1866}},{"source":"map.js","name":"on","original":{"line":122,"column":12},"generated":{"line":1,"column":1868}},{"source":"map.js","original":{"line":122,"column":15},"generated":{"line":1,"column":1871}},{"source":"map.js","original":{"line":122,"column":34},"generated":{"line":1,"column":1889}},{"source":"map.js","name":"coordinates","original":{"line":123,"column":6},"generated":{"line":1,"column":1900}},{"source":"map.js","name":"coordinates","original":{"line":123,"column":6},"generated":{"line":1,"column":1904}},{"source":"map.js","name":"geolocation","original":{"line":123,"column":20},"generated":{"line":1,"column":1906}},{"source":"map.js","name":"getPosition","original":{"line":123,"column":32},"generated":{"line":1,"column":1908}},{"source":"map.js","name":"positionFeature","original":{"line":124,"column":2},"generated":{"line":1,"column":1922}},{"source":"map.js","name":"setGeometry","original":{"line":124,"column":18},"generated":{"line":1,"column":1924}},{"source":"map.js","name":"coordinates","original":{"line":124,"column":30},"generated":{"line":1,"column":1936}},{"source":"map.js","original":{"line":125,"column":4},"generated":{"line":1,"column":1938}},{"source":"map.js","name":"Point","original":{"line":125,"column":8},"generated":{"line":1,"column":1942}},{"source":"map.js","original":{"line":125,"column":4},"generated":{"line":1,"column":1944}},{"source":"map.js","name":"coordinates","original":{"line":125,"column":14},"generated":{"line":1,"column":1952}},{"source":"map.js","original":{"line":125,"column":29},"generated":{"line":1,"column":1955}},{"source":"map.js","original":{"line":128,"column":0},"generated":{"line":1,"column":1963}},{"source":"map.js","name":"VectorLayer","original":{"line":128,"column":4},"generated":{"line":1,"column":1967}},{"source":"map.js","original":{"line":128,"column":0},"generated":{"line":1,"column":1969}},{"source":"map.js","original":{"line":128,"column":16},"generated":{"line":1,"column":1976}},{"source":"map.js","name":"map","original":{"line":129,"column":2},"generated":{"line":1,"column":1977}},{"source":"map.js","name":"map","original":{"line":129,"column":7},"generated":{"line":1,"column":1981}},{"source":"map.js","name":"source","original":{"line":130,"column":2},"generated":{"line":1,"column":1983}},{"source":"map.js","original":{"line":130,"column":10},"generated":{"line":1,"column":1990}},{"source":"map.js","name":"VectorSource","original":{"line":130,"column":14},"generated":{"line":1,"column":1994}},{"source":"map.js","original":{"line":130,"column":10},"generated":{"line":1,"column":1996}},{"source":"map.js","original":{"line":130,"column":27},"generated":{"line":1,"column":2003}},{"source":"map.js","name":"features","original":{"line":131,"column":4},"generated":{"line":1,"column":2004}},{"source":"map.js","original":{"line":131,"column":14},"generated":{"line":1,"column":2013}},{"source":"map.js","name":"accuracyFeature","original":{"line":131,"column":15},"generated":{"line":1,"column":2014}},{"source":"map.js","name":"positionFeature","original":{"line":131,"column":32},"generated":{"line":1,"column":2016}},{"source":"map.js","name":"map","original":{"line":143,"column":0},"generated":{"line":1,"column":2023}},{"source":"map.js","name":"on","original":{"line":143,"column":4},"generated":{"line":1,"column":2025}},{"source":"map.js","original":{"line":143,"column":7},"generated":{"line":1,"column":2028}},{"source":"map.js","original":{"line":143,"column":16},"generated":{"line":1,"column":2036}},{"source":"map.js","name":"evt","original":{"line":143,"column":25},"generated":{"line":1,"column":2045}},{"source":"map.js","name":"utils","original":{"line":144,"column":2},"generated":{"line":1,"column":2048}},{"source":"map.js","name":"getNearest","original":{"line":144,"column":8},"generated":{"line":1,"column":2050}},{"source":"map.js","name":"evt","original":{"line":144,"column":19},"generated":{"line":1,"column":2061}},{"source":"map.js","name":"coordinate","original":{"line":144,"column":23},"generated":{"line":1,"column":2063}},{"source":"map.js","name":"then","original":{"line":144,"column":35},"generated":{"line":1,"column":2075}},{"source":"map.js","original":{"line":144,"column":40},"generated":{"line":1,"column":2080}},{"source":"map.js","name":"coord_street","original":{"line":144,"column":49},"generated":{"line":1,"column":2089}},{"source":"map.js","name":"last_point","original":{"line":145,"column":8},"generated":{"line":1,"column":2092}},{"source":"map.js","name":"last_point","original":{"line":145,"column":8},"generated":{"line":1,"column":2096}},{"source":"map.js","name":"points","original":{"line":145,"column":21},"generated":{"line":1,"column":2098}},{"source":"map.js","name":"points","original":{"line":145,"column":28},"generated":{"line":1,"column":2100}},{"source":"map.js","name":"length","original":{"line":145,"column":35},"generated":{"line":1,"column":2102}},{"source":"map.js","original":{"line":145,"column":44},"generated":{"line":1,"column":2109}},{"source":"map.js","name":"points_length","original":{"line":146,"column":8},"generated":{"line":1,"column":2112}},{"source":"map.js","name":"points","original":{"line":146,"column":24},"generated":{"line":1,"column":2114}},{"source":"map.js","name":"push","original":{"line":146,"column":31},"generated":{"line":1,"column":2116}},{"source":"map.js","name":"coord_street","original":{"line":146,"column":36},"generated":{"line":1,"column":2121}},{"source":"map.js","name":"points_length","original":{"line":150,"column":8},"generated":{"line":1,"column":2124}},{"source":"map.js","name":"utils","original":{"line":148,"column":4},"generated":{"line":1,"column":2127}},{"source":"map.js","name":"createFeature","original":{"line":148,"column":10},"generated":{"line":1,"column":2129}},{"source":"map.js","name":"coord_street","original":{"line":148,"column":24},"generated":{"line":1,"column":2143}},{"source":"map.js","name":"points_length","original":{"line":150,"column":8},"generated":{"line":1,"column":2146}},{"source":"map.js","original":{"line":150,"column":24},"generated":{"line":1,"column":2148}},{"source":"map.js","name":"msg_el","original":{"line":151,"column":6},"generated":{"line":1,"column":2150}},{"source":"map.js","name":"innerHTML","original":{"line":151,"column":13},"generated":{"line":1,"column":2152}},{"source":"map.js","original":{"line":151,"column":25},"generated":{"line":1,"column":2162}},{"source":"map.js","name":"points_length","original":{"line":150,"column":8},"generated":{"line":1,"column":2195}},{"source":"map.js","name":"point1","original":{"line":156,"column":8},"generated":{"line":1,"column":2196}},{"source":"map.js","name":"point1","original":{"line":156,"column":8},"generated":{"line":1,"column":2200}},{"source":"map.js","name":"last_point","original":{"line":156,"column":17},"generated":{"line":1,"column":2202}},{"source":"map.js","name":"join","original":{"line":156,"column":28},"generated":{"line":1,"column":2204}},{"source":"map.js","name":"point2","original":{"line":157,"column":8},"generated":{"line":1,"column":2211}},{"source":"map.js","name":"coord_street","original":{"line":157,"column":17},"generated":{"line":1,"column":2213}},{"source":"map.js","name":"join","original":{"line":157,"column":30},"generated":{"line":1,"column":2215}},{"source":"map.js","name":"fetch","original":{"line":159,"column":4},"generated":{"line":1,"column":2222}},{"source":"map.js","name":"url_osrm_route","original":{"line":159,"column":10},"generated":{"line":1,"column":2228}},{"source":"map.js","name":"point1","original":{"line":159,"column":27},"generated":{"line":1,"column":2230}},{"source":"map.js","original":{"line":159,"column":36},"generated":{"line":1,"column":2232}},{"source":"map.js","name":"point2","original":{"line":159,"column":42},"generated":{"line":1,"column":2236}},{"source":"map.js","name":"then","original":{"line":159,"column":50},"generated":{"line":1,"column":2239}},{"source":"map.js","original":{"line":159,"column":55},"generated":{"line":1,"column":2244}},{"source":"map.js","name":"r","original":{"line":159,"column":64},"generated":{"line":1,"column":2253}},{"source":"map.js","name":"r","original":{"line":160,"column":13},"generated":{"line":1,"column":2256}},{"source":"map.js","name":"r","original":{"line":160,"column":13},"generated":{"line":1,"column":2263}},{"source":"map.js","name":"json","original":{"line":160,"column":15},"generated":{"line":1,"column":2265}},{"source":"map.js","name":"then","original":{"line":161,"column":7},"generated":{"line":1,"column":2274}},{"source":"map.js","original":{"line":161,"column":12},"generated":{"line":1,"column":2279}},{"source":"map.js","name":"json","original":{"line":161,"column":21},"generated":{"line":1,"column":2288}},{"source":"map.js","original":{"line":162,"column":23},"generated":{"line":1,"column":2291}},{"source":"map.js","name":"json","original":{"line":162,"column":9},"generated":{"line":1,"column":2298}},{"source":"map.js","name":"code","original":{"line":162,"column":14},"generated":{"line":1,"column":2300}},{"source":"map.js","name":"msg_el","original":{"line":166,"column":6},"generated":{"line":1,"column":2306}},{"source":"map.js","name":"innerHTML","original":{"line":166,"column":13},"generated":{"line":1,"column":2308}},{"source":"map.js","original":{"line":166,"column":25},"generated":{"line":1,"column":2318}},{"source":"map.js","name":"utils","original":{"line":168,"column":6},"generated":{"line":1,"column":2332}},{"source":"map.js","name":"createRoute","original":{"line":168,"column":12},"generated":{"line":1,"column":2334}},{"source":"map.js","name":"json","original":{"line":168,"column":24},"generated":{"line":1,"column":2346}},{"source":"map.js","name":"routes","original":{"line":168,"column":29},"generated":{"line":1,"column":2348}},{"source":"map.js","original":{"line":168,"column":36},"generated":{"line":1,"column":2355}},{"source":"map.js","name":"geometry","original":{"line":168,"column":39},"generated":{"line":1,"column":2358}},{"source":"map.js","name":"msg_el","original":{"line":163,"column":8},"generated":{"line":1,"column":2369}},{"source":"map.js","name":"innerHTML","original":{"line":163,"column":15},"generated":{"line":1,"column":2371}},{"source":"map.js","original":{"line":163,"column":27},"generated":{"line":1,"column":2381}},{"source":"map.js","original":{"line":173,"column":0},"generated":{"line":1,"column":2406}},{"source":"map.js","name":"utils","original":{"line":173,"column":4},"generated":{"line":1,"column":2410}},{"source":"map.js","original":{"line":173,"column":12},"generated":{"line":1,"column":2412}},{"source":"map.js","name":"getNearest","original":{"line":174,"column":2},"generated":{"line":1,"column":2413}},{"source":"map.js","original":{"line":174,"column":14},"generated":{"line":1,"column":2424}},{"source":"map.js","name":"coord","original":{"line":174,"column":23},"generated":{"line":1,"column":2433}},{"source":"map.js","name":"coord4326","original":{"line":175,"column":8},"generated":{"line":1,"column":2436}},{"source":"map.js","name":"coord4326","original":{"line":175,"column":8},"generated":{"line":1,"column":2440}},{"source":"map.js","name":"utils","original":{"line":175,"column":20},"generated":{"line":1,"column":2442}},{"source":"map.js","name":"to4326","original":{"line":175,"column":26},"generated":{"line":1,"column":2444}},{"source":"map.js","name":"coord","original":{"line":175,"column":33},"generated":{"line":1,"column":2451}},{"source":"map.js","original":{"line":176,"column":11},"generated":{"line":1,"column":2454}},{"source":"map.js","original":{"line":176,"column":11},"generated":{"line":1,"column":2461}},{"source":"map.js","name":"Promise","original":{"line":176,"column":15},"generated":{"line":1,"column":2465}},{"source":"map.js","original":{"line":176,"column":23},"generated":{"line":1,"column":2473}},{"source":"map.js","name":"resolve","original":{"line":176,"column":32},"generated":{"line":1,"column":2482}},{"source":"map.js","name":"reject","original":{"line":176,"column":41},"generated":{"line":1,"column":2484}},{"source":"map.js","name":"fetch","original":{"line":178,"column":6},"generated":{"line":1,"column":2487}},{"source":"map.js","name":"url_osrm_nearest","original":{"line":178,"column":12},"generated":{"line":1,"column":2493}},{"source":"map.js","name":"coord4326","original":{"line":178,"column":31},"generated":{"line":1,"column":2495}},{"source":"map.js","name":"join","original":{"line":178,"column":41},"generated":{"line":1,"column":2497}},{"source":"map.js","name":"then","original":{"line":178,"column":49},"generated":{"line":1,"column":2505}},{"source":"map.js","original":{"line":178,"column":54},"generated":{"line":1,"column":2510}},{"source":"map.js","name":"response","original":{"line":178,"column":63},"generated":{"line":1,"column":2519}},{"source":"map.js","name":"response","original":{"line":180,"column":15},"generated":{"line":1,"column":2522}},{"source":"map.js","name":"response","original":{"line":180,"column":15},"generated":{"line":1,"column":2529}},{"source":"map.js","name":"json","original":{"line":180,"column":24},"generated":{"line":1,"column":2531}},{"source":"map.js","name":"then","original":{"line":181,"column":9},"generated":{"line":1,"column":2540}},{"source":"map.js","original":{"line":181,"column":14},"generated":{"line":1,"column":2545}},{"source":"map.js","name":"json","original":{"line":181,"column":23},"generated":{"line":1,"column":2554}},{"source":"map.js","original":{"line":182,"column":26},"generated":{"line":1,"column":2557}},{"source":"map.js","name":"json","original":{"line":182,"column":12},"generated":{"line":1,"column":2564}},{"source":"map.js","name":"code","original":{"line":182,"column":17},"generated":{"line":1,"column":2566}},{"source":"map.js","name":"resolve","original":{"line":182,"column":32},"generated":{"line":1,"column":2571}},{"source":"map.js","name":"json","original":{"line":182,"column":40},"generated":{"line":1,"column":2573}},{"source":"map.js","name":"waypoints","original":{"line":182,"column":45},"generated":{"line":1,"column":2575}},{"source":"map.js","original":{"line":182,"column":55},"generated":{"line":1,"column":2585}},{"source":"map.js","name":"location","original":{"line":182,"column":58},"generated":{"line":1,"column":2588}},{"source":"map.js","name":"reject","original":{"line":183,"column":13},"generated":{"line":1,"column":2598}},{"source":"map.js","name":"createFeature","original":{"line":188,"column":2},"generated":{"line":1,"column":2607}},{"source":"map.js","original":{"line":188,"column":17},"generated":{"line":1,"column":2621}},{"source":"map.js","name":"coord","original":{"line":188,"column":26},"generated":{"line":1,"column":2630}},{"source":"map.js","name":"feature","original":{"line":189,"column":8},"generated":{"line":1,"column":2633}},{"source":"map.js","name":"feature","original":{"line":189,"column":8},"generated":{"line":1,"column":2637}},{"source":"map.js","original":{"line":189,"column":18},"generated":{"line":1,"column":2639}},{"source":"map.js","name":"Feature","original":{"line":189,"column":22},"generated":{"line":1,"column":2643}},{"source":"map.js","original":{"line":189,"column":18},"generated":{"line":1,"column":2645}},{"source":"map.js","original":{"line":189,"column":30},"generated":{"line":1,"column":2653}},{"source":"map.js","name":"type","original":{"line":190,"column":6},"generated":{"line":1,"column":2654}},{"source":"map.js","original":{"line":190,"column":12},"generated":{"line":1,"column":2659}},{"source":"map.js","name":"geometry","original":{"line":191,"column":6},"generated":{"line":1,"column":2667}},{"source":"map.js","original":{"line":191,"column":16},"generated":{"line":1,"column":2676}},{"source":"map.js","name":"Point","original":{"line":191,"column":20},"generated":{"line":1,"column":2680}},{"source":"map.js","original":{"line":191,"column":16},"generated":{"line":1,"column":2682}},{"source":"map.js","original":{"line":191,"column":26},"generated":{"line":1,"column":2691}},{"source":"map.js","name":"coord","original":{"line":191,"column":37},"generated":{"line":1,"column":2693}},{"source":"map.js","name":"coord","original":{"line":191,"column":37},"generated":{"line":1,"column":2695}},{"source":"map.js","name":"coord","original":{"line":191,"column":37},"generated":{"line":1,"column":2707}},{"source":"map.js","name":"feature","original":{"line":193,"column":4},"generated":{"line":1,"column":2713}},{"source":"map.js","name":"setStyle","original":{"line":193,"column":12},"generated":{"line":1,"column":2715}},{"source":"map.js","name":"styles","original":{"line":193,"column":21},"generated":{"line":1,"column":2724}},{"source":"map.js","name":"icon","original":{"line":193,"column":28},"generated":{"line":1,"column":2726}},{"source":"map.js","name":"vectorSource","original":{"line":194,"column":4},"generated":{"line":1,"column":2732}},{"source":"map.js","name":"addFeature","original":{"line":194,"column":17},"generated":{"line":1,"column":2734}},{"source":"map.js","name":"feature","original":{"line":194,"column":28},"generated":{"line":1,"column":2745}},{"source":"map.js","name":"createRoute","original":{"line":196,"column":2},"generated":{"line":1,"column":2749}},{"source":"map.js","original":{"line":196,"column":15},"generated":{"line":1,"column":2761}},{"source":"map.js","name":"polyline","original":{"line":196,"column":24},"generated":{"line":1,"column":2770}},{"source":"map.js","name":"route","original":{"line":198,"column":8},"generated":{"line":1,"column":2773}},{"source":"map.js","name":"route","original":{"line":198,"column":8},"generated":{"line":1,"column":2777}},{"source":"map.js","original":{"line":198,"column":16},"generated":{"line":1,"column":2779}},{"source":"map.js","name":"Polyline","original":{"line":198,"column":20},"generated":{"line":1,"column":2783}},{"source":"map.js","original":{"line":198,"column":16},"generated":{"line":1,"column":2785}},{"source":"map.js","original":{"line":198,"column":29},"generated":{"line":1,"column":2793}},{"source":"map.js","name":"factor","original":{"line":199,"column":6},"generated":{"line":1,"column":2794}},{"source":"map.js","original":{"line":199,"column":14},"generated":{"line":1,"column":2801}},{"source":"map.js","name":"readGeometry","original":{"line":200,"column":7},"generated":{"line":1,"column":2807}},{"source":"map.js","name":"polyline","original":{"line":200,"column":20},"generated":{"line":1,"column":2820}},{"source":"map.js","original":{"line":200,"column":30},"generated":{"line":1,"column":2822}},{"source":"map.js","name":"dataProjection","original":{"line":201,"column":6},"generated":{"line":1,"column":2823}},{"source":"map.js","original":{"line":201,"column":22},"generated":{"line":1,"column":2838}},{"source":"map.js","name":"featureProjection","original":{"line":202,"column":6},"generated":{"line":1,"column":2850}},{"source":"map.js","original":{"line":202,"column":25},"generated":{"line":1,"column":2868}},{"source":"map.js","name":"feature","original":{"line":204,"column":8},"generated":{"line":1,"column":2882}},{"source":"map.js","original":{"line":204,"column":18},"generated":{"line":1,"column":2884}},{"source":"map.js","name":"Feature","original":{"line":204,"column":22},"generated":{"line":1,"column":2888}},{"source":"map.js","original":{"line":204,"column":18},"generated":{"line":1,"column":2890}},{"source":"map.js","original":{"line":204,"column":30},"generated":{"line":1,"column":2898}},{"source":"map.js","name":"type","original":{"line":205,"column":6},"generated":{"line":1,"column":2899}},{"source":"map.js","original":{"line":205,"column":12},"generated":{"line":1,"column":2904}},{"source":"map.js","name":"geometry","original":{"line":206,"column":6},"generated":{"line":1,"column":2912}},{"source":"map.js","name":"route","original":{"line":206,"column":16},"generated":{"line":1,"column":2921}},{"source":"map.js","name":"feature","original":{"line":208,"column":4},"generated":{"line":1,"column":2925}},{"source":"map.js","name":"setStyle","original":{"line":208,"column":12},"generated":{"line":1,"column":2927}},{"source":"map.js","name":"styles","original":{"line":208,"column":21},"generated":{"line":1,"column":2936}},{"source":"map.js","name":"route","original":{"line":208,"column":28},"generated":{"line":1,"column":2938}},{"source":"map.js","name":"vectorSource","original":{"line":209,"column":4},"generated":{"line":1,"column":2945}},{"source":"map.js","name":"addFeature","original":{"line":209,"column":17},"generated":{"line":1,"column":2947}},{"source":"map.js","name":"feature","original":{"line":209,"column":28},"generated":{"line":1,"column":2958}},{"source":"map.js","name":"to4326","original":{"line":211,"column":2},"generated":{"line":1,"column":2962}},{"source":"map.js","original":{"line":211,"column":10},"generated":{"line":1,"column":2969}},{"source":"map.js","name":"coord","original":{"line":211,"column":19},"generated":{"line":1,"column":2978}},{"source":"map.js","original":{"line":212,"column":11},"generated":{"line":1,"column":2981}},{"source":"map.js","original":{"line":212,"column":11},"generated":{"line":1,"column":2988}},{"source":"map.js","original":{"line":212,"column":21},"generated":{"line":1,"column":2990}},{"source":"map.js","original":{"line":212,"column":21},"generated":{"line":1,"column":2992}},{"source":"map.js","original":{"line":212,"column":21},"generated":{"line":1,"column":3003}},{"source":"map.js","name":"parseFloat","original":{"line":213,"column":6},"generated":{"line":1,"column":3004}},{"source":"map.js","name":"coord","original":{"line":213,"column":17},"generated":{"line":1,"column":3015}},{"source":"map.js","original":{"line":213,"column":23},"generated":{"line":1,"column":3017}},{"source":"map.js","name":"parseFloat","original":{"line":213,"column":28},"generated":{"line":1,"column":3021}},{"source":"map.js","name":"coord","original":{"line":213,"column":39},"generated":{"line":1,"column":3032}},{"source":"map.js","original":{"line":213,"column":45},"generated":{"line":1,"column":3034}},{"source":"map.js","original":{"line":214,"column":7},"generated":{"line":1,"column":3039}},{"source":"map.js","original":{"line":214,"column":20},"generated":{"line":1,"column":3051}}],"sources":{"map.js":"import 'ol/ol.css';\r\nimport Feature from 'ol/Feature.js';\r\nimport Geolocation from 'ol/Geolocation.js';\r\nimport Map from 'ol/Map.js';\r\nimport View from 'ol/View.js';\r\nimport {defaults as defaultControls} from 'ol/control.js';\r\nimport Point from 'ol/geom/Point.js';\r\nimport {Tile as TileLayer, Vector as VectorLayer} from 'ol/layer.js';\r\nimport {OSM, Vector as VectorSource} from 'ol/source.js';\r\nimport {Circle as CircleStyle, Icon, Fill, Stroke, Style} from 'ol/style.js';\r\nimport {fromLonLat, transform} from 'ol/proj';\r\n\r\n//navigation imports\r\nimport Polyline from 'ol/format/Polyline';\r\n\r\nvar txState = [-97.942999, 29.888998];\r\nvar alk = [-97.943114, 29.888868];\r\nvar txStateWebMercator = fromLonLat(txState);\r\nvar alkMercator = fromLonLat(alk);\r\n\r\nfunction changeToWebMercator(coord) {\r\n  fromLonLat(coord)\r\n}\r\n\r\nvar points = [],\r\n    msg_el = document.getElementById('msg'),\r\n    url_osrm_nearest = '//router.project-osrm.org/nearest/v1/driving/',\r\n    url_osrm_route = '//router.project-osrm.org/route/v1/driving/',\r\n    icon_url = '//cdn.rawgit.com/openlayers/ol3/master/examples/data/icon.png'\r\n\r\nvar vectorSource = new VectorSource()\r\nvar vectorLayer = new VectorLayer({\r\n      source: vectorSource\r\n    })\r\n\r\nvar styles = {\r\n      route: new Style({\r\n        stroke: new Stroke({\r\n          width: 6, color: [40, 40, 40, 0.8]\r\n        })\r\n      }),\r\n      \r\n      icon: new Style({\r\n        image: new Icon({\r\n          anchor: [0.5, 1],\r\n          src: icon_url\r\n        })\r\n      })\r\n    }\r\n\r\nconsole.clear();\r\n\r\nvar view = new View({\r\n  center: txStateWebMercator,\r\n  zoom: 16\r\n});\r\n\r\nvar map = new Map({\r\n  layers: [\r\n    new TileLayer({\r\n      source: new OSM()\r\n    }),\r\n    vectorLayer,\r\n  ],\r\n  target: 'map',\r\n  controls: defaultControls({\r\n    attributionOptions: {\r\n      collapsible: false\r\n    }\r\n  }),\r\n  view: view\r\n});\r\n\r\nvar geolocation = new Geolocation({\r\n  // enableHighAccuracy must be set to true to have the heading value.\r\n  trackingOptions: {\r\n    enableHighAccuracy: true\r\n  },\r\n  projection: view.getProjection()\r\n});\r\n\r\nfunction el(id) {\r\n  return document.getElementById(id);\r\n}\r\n\r\nel('track').addEventListener('change', function() {\r\n  geolocation.setTracking(this.checked);\r\n});\r\n\r\n// update the HTML page when the position changes.\r\ngeolocation.on('change', function() {\r\n  el('accuracy').innerText = geolocation.getAccuracy() + ' [m]';\r\n  el('location').innerText = geolocation.getPosition();\r\n});\r\n\r\n// handle geolocation error.\r\ngeolocation.on('error', function(error) {\r\n  var info = document.getElementById('info');\r\n  info.innerHTML = error.message;\r\n  info.style.display = '';\r\n});\r\n\r\nvar accuracyFeature = new Feature();\r\ngeolocation.on('change:accuracyGeometry', function() {\r\n  accuracyFeature.setGeometry(geolocation.getAccuracyGeometry());\r\n});\r\n\r\nvar positionFeature = new Feature();\r\npositionFeature.setStyle(new Style({\r\n  image: new CircleStyle({\r\n    radius: 6,\r\n    fill: new Fill({\r\n      color: '#3399CC'\r\n    }),\r\n    stroke: new Stroke({\r\n      color: '#fff',\r\n      width: 2\r\n    })\r\n  })\r\n}));\r\n\r\ngeolocation.on('change:position', function() {\r\n  var coordinates = geolocation.getPosition();\r\n  positionFeature.setGeometry(coordinates ?\r\n    new Point(coordinates) : null);\r\n});\r\n\r\nnew VectorLayer({\r\n  map: map,\r\n  source: new VectorSource({\r\n    features: [accuracyFeature, positionFeature]\r\n  })\r\n});\r\n\r\nfunction panAlk(){\r\n  map.setView(new View({\r\n            center: alkMercator,\r\n            zoom: 19\r\n     }));\r\n\r\n};\r\n\r\nmap.on('click', function(evt){\r\n  utils.getNearest(evt.coordinate).then(function(coord_street){\r\n    var last_point = points[points.length - 1];\r\n    var points_length = points.push(coord_street);\r\n\r\n    utils.createFeature(coord_street);\r\n\r\n    if (points_length < 2) {\r\n      msg_el.innerHTML = 'Click to add another point';\r\n      return;\r\n    }\r\n\r\n    //get the route\r\n    var point1 = last_point.join();\r\n    var point2 = coord_street.join();\r\n    \r\n    fetch(url_osrm_route + point1 + ';' + point2).then(function(r) { \r\n      return r.json();\r\n    }).then(function(json) {\r\n      if(json.code !== 'Ok') {\r\n        msg_el.innerHTML = 'No route found.';\r\n        return;\r\n      }\r\n      msg_el.innerHTML = 'Route added';\r\n      //points.length = 0;\r\n      utils.createRoute(json.routes[0].geometry);\r\n    });\r\n  });\r\n});\r\n\r\nvar utils = {\r\n  getNearest: function(coord){\r\n    var coord4326 = utils.to4326(coord);    \r\n    return new Promise(function(resolve, reject) {\r\n      //make sure the coord is on street\r\n      fetch(url_osrm_nearest + coord4326.join()).then(function(response) { \r\n        // Convert to JSON\r\n        return response.json();\r\n      }).then(function(json) {\r\n        if (json.code === 'Ok') resolve(json.waypoints[0].location);\r\n        else reject();\r\n      });\r\n    });\r\n  },\r\n\r\n  createFeature: function(coord) {\r\n    var feature = new Feature({\r\n      type: 'place',\r\n      geometry: new Point(fromLonLat(coord))\r\n    });\r\n    feature.setStyle(styles.icon);\r\n    vectorSource.addFeature(feature);\r\n  },\r\n  createRoute: function(polyline) {\r\n    // route is ol.geom.LineString\r\n    var route = new Polyline({\r\n      factor: 1e5\r\n    }).readGeometry(polyline, {\r\n      dataProjection: 'EPSG:4326',\r\n      featureProjection: 'EPSG:3857'\r\n    });\r\n    var feature = new Feature({\r\n      type: 'route',\r\n      geometry: route\r\n    });\r\n    feature.setStyle(styles.route);\r\n    vectorSource.addFeature(feature);\r\n  },\r\n  to4326: function(coord) {\r\n    return transform([\r\n      parseFloat(coord[0]), parseFloat(coord[1])\r\n    ], 'EPSG:3857', 'EPSG:4326');\r\n  }\r\n};"},"lineCount":null}},"hash":"42e0ddd3db69914080c482423fc333c9","cacheData":{"env":{}}}